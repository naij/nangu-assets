define("app/mixins/dialog",["magix","jquery"],function(i,t,o){var l=i("magix"),e=i("jquery"),n=e(window);o.exports={alert:function(i,t,o){this.confirm(i,t,null,o,"alert")},confirm:function(i,t,o,l,e){this.mxDialog("app/views/partials/"+(e||"confirm"),{body:i,cancelCallback:o,enterCallback:t,title:l,modal:!0,width:400,closable:!1,left:(n.width()-400)/2,top:Math.max((n.height()-220)/2,0)})},mxDialog:function(i,t){var o,e,a=this,c={view:i};return seajs.use(["app/coms/dialog/dialog",i],a.wrapAsync(function(s,r){var d="$dlg_"+i;a[d]||(a[d]=1,l.mix(c,r.dialogOptions),l.mix(c,t),c.width||(c.width=500),c.left||(c.left=(n.width()-c.width)/2),c.top||(c.top=100),c.dialog={close:function(){o&&o.trigger("dlg_close")}},o=s.show(a,c),o.on("close",function(){delete a[d],e&&e()}))})),{close:function(){o&&o.trigger("dlg_close")},whenClose:function(i){e=i}}}}});
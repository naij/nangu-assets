define("app/views/pages/detailfield/create",["magix","jquery"],function(e,a,l){var i=e("magix"),t=e("jquery");l.exports=i.View.extend({tmpl:'<div class="page-header clearfix"><div class="title-bar"><h2 class="title" t-if="id">\u7f16\u8f91\u8be6\u60c5\u5b57\u6bb5</h2><h2 class="title" t-if="!id">\u65b0\u589e\u8be6\u60c5\u5b57\u6bb5</h2></div></div><div class="page-body spu-create"><form id="detailfield-create-form"><input type="hidden" name="categoryId" value="{{categoryId}}"><ul class="union-form"><li class="field"><p class="field-label2">\u5b57\u6bb5\u540d</p><input type="text" class="input" name="fieldName" value="{{fieldName}}"></li><li class="field"><p class="field-label2">\u5b57\u6bb5\u6807\u6ce8</p><input type="text" class="input" name="fieldLabel" value="{{fieldLabel}}"></li><li class="field"><p class="field-label2">\u5b57\u6bb5\u7c7b\u578b</p><label class="mr10" mx-click="switchFieldType({value:0})"><input name="fieldType" class="mr10" checked="{{fieldType==0}}" type="radio" value="0"/><span>\u6587\u672c</span></label><label mx-click="switchFieldType({value:1})"><input name="fieldType" class="mr10" checked="{{fieldType==1}}" type="radio" value="1"/><span>\u5730\u5740</span></label></li><li class="field"><p class="field-label2">\u6392\u5e8f</p><input type="number" class="input" name="sort" value="{{sort}}"></li><li class="field"><a href="#" class="btn btn-brand btn-large" mx-click="submit()">\u63d0\u4ea4</a></li></ul></form></div>',render:function(){var e=this,a=e.param("id"),l=e.param("categoryId");a?e.request().all([{name:"detailfield_detail",params:{id:a}}],function(a,l){var i=l.get("data");e.data=i,e.setView()}):(e.data={fieldType:0,categoryId:l},e.setView())},"switchFieldType<click>":function(e){this.data.fieldType=e.params.value,this.setView()},"submit<click>":function(e){e.preventDefault();var a,l=this,i=l.data.id,d=l.data.categoryId,s=t("#detailfield-create-form").serializeJSON({useIntKeysAsArrayIndex:!0});i?(s.id=i,a="detailfield_update"):a="detailfield_create",l.request().all([{name:a,params:s}],function(){l.to("/detailfield/list?categoryId="+d)})}})});
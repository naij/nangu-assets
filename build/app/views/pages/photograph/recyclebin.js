define("app/views/pages/photograph/recyclebin",["magix","jquery","app/mixins/dialog"],function(t,e,a){var i=t("magix"),s=(t("jquery"),t("app/mixins/dialog"));a.exports=i.View.extend({tmpl:'<div class="page-header clearfix"><div class="title-bar"><h2 class="title">\u65c5\u62cd\u56de\u6536\u7ad9</h2></div></div><div class="page-body table-container"><div class="toolbar clearfix"><a href="/photograph/list" class="btn btn-brand btn-large">\u8fd4\u56de\u65c5\u62cd\u7ba1\u7406</a></div><table class="table"><thead><tr t-class:no-data="list.length == 0"><th class="left" width="150">\u6d3b\u52a8\u5c01\u9762</th><th class="left">\u6d3b\u52a8\u6807\u9898</th><th class="left" width="100">\u6d3b\u52a8\u7c7b\u578b</th><th class="left" width="150">\u64cd\u4f5c\u65f6\u95f4</th><th class="left" width="100">\u53d1\u5e03\u72b6\u6001</th><th class="center" width="150">\u64cd\u4f5c</th></tr></thead><tbody>{{#for(item in list)}}<tr><td class="left"><img src="{{item.cover}}"></td><td class="left">{{item.title}}</td><td class="left">\u65c5\u62cd\u6d3b\u52a8</td><td class="left">{{item.updatedAt|formatDate}}</td><td class="left">\u56de\u6536\u7ad9\u5b58\u50a8</td><td class="center"><a href="#" mx-click="restore({id:{{item.id}}})" class="color-blue mr10">\u8fd8\u539f</a><a href="#" mx-click="removeComplete({id:{{item.id}}})" class="color-blue">\u5f7b\u5e95\u5220\u9664</a></td></tr>{{/for}} {{#if(list.length == 0)}}<tr class="none"><td class="center" colspan="6">\u6682\u65e0\u6570\u636e</td></tr>{{/if}}</tbody></table><div class="tfoot"><div class="pager-container" mx-view="app/coms/pagination/pagination?total={{totalCount}}&size={{pageSize}}&page={{pageNo}}" mx-change="pageChange()"></div></div></div>',mixins:[s],ctor:function(){this.observe(["pageNo"])},render:function(){var t=this,e=t.param("pageNo")||1,a=10;t.request().all([{name:"activity_list",params:{type:[3],status:[0],pageNo:e,pageSize:a}}],function(i,s){var l=s.get("data");t.data={list:l.list,pageNo:e,pageSize:a,totalCount:l.totalCount},t.setView()})},"restore<click>":function(t){t.preventDefault();var e=t.params.id,a=this;a.request().all([{name:"activity_offline",params:{id:e}}],function(){a.render()})},"removeComplete<click>":function(t){t.preventDefault();var e=t.params.id,a=this;a.confirm("\u786e\u5b9a\u8981\u5220\u9664\u6b64\u6d3b\u52a8\uff1f\u5f7b\u5e95\u5220\u9664\u540e\u4e0d\u53ef\u590d\u539f\uff01",function(){a.request().all([{name:"activity_remove_complete",params:{id:e}}],function(){a.render()})})},"pageChange<change>":function(t){this.to({pageNo:t.state.page})}})});
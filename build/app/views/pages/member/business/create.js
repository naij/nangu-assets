define("app/views/pages/member/business/create",["magix","jquery","app/mixins/dialog"],function(e,i,a){var s=e("magix"),t=e("jquery"),n=e("app/mixins/dialog");a.exports=s.View.extend({tmpl:'<div class="page-header clearfix"><div class="title-bar"><h2 class="title" t-if="id">\u7f16\u8f91\u5546\u6237</h2><h2 class="title" t-if="!id">\u65b0\u589e\u5546\u6237</h2></div></div><div class="page-body spu-create"><form id="business-create-form"><ul class="union-form"><li class="field"><p class="field-label2">\u5546\u6237\u540d\u79f0</p><input type="text" class="input" name="name" value="{{name}}"></li><li class="field"><a href="#" class="btn btn-brand btn-large" mx-click="submit()">\u63d0\u4ea4</a></li></ul></form></div>',mixins:[n],render:function(){var e=this,i=e.param("id");i?e.request().all([{name:"business_detail",params:{id:i}}],function(a,s){var t=s.get("data");e.data={id:i,name:t.name},e.setView()}):e.setView()},"submit<click>":function(e){e.preventDefault();var i,a=this,s=a.data.id,n=t("#business-create-form").serializeJSON({useIntKeysAsArrayIndex:!0});s?(n.id=s,i="business_update"):i="business_create",a.request().all([{name:i,params:n}],function(){window.history.go(-1)})}})});
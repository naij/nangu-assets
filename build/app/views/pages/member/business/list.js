define("app/views/pages/member/business/list",["magix","jquery"],function(t,e,a){var s=t("magix"),i=t("jquery");a.exports=s.View.extend({tmpl:'<div class="page-header clearfix"><div class="title-bar"><h2 class="title">\u5546\u6237\u5217\u8868</h2></div></div><div class="page-body table-container"><div class="toolbar clearfix"><input type="text" class="input fr" value="{{q}}" placeholder="\u8f93\u5165\u5546\u6237\u540d\u79f0\u641c\u7d22" mx-keydown="search()"><a href="/member/business/create" class="btn btn-brand btn-large">\u65b0\u589e\u5546\u6237</a></div><table class="table member-list"><thead><tr t-class:no-data="list.length == 0"><th class="left" width="120">\u5546\u6237\u7f16\u53f7</th><th class="left">\u5546\u6237\u540d\u79f0</th><th class="left" width="150">\u63a8\u5e7f\u8005id</th><th class="left" width="150">\u521b\u5efa\u65f6\u95f4</th><th class="center" width="150">\u64cd\u4f5c</th></tr></thead><tbody>{{#for(item in list)}}<tr><td class="left">{{item.businessId}}</td><td class="left">{{item.name}}</td><td class="left">{{item.associateId}}</td><td class="left">{{item.createdAt|formatDate}}</td><td class="center"><a href="/member/business/create?id={{item.id}}" class="color-blue">\u7f16\u8f91</a></td></tr>{{/for}} {{#if(list.length == 0)}}<tr class="none"><td class="center" colspan="4">\u6682\u65e0\u6570\u636e</td></tr>{{/if}}</tbody></table><div class="tfoot"><div class="pager-container" mx-view="app/coms/pagination/pagination?total={{totalCount}}&size={{pageSize}}&page={{pageNo}}" mx-change="pageChange()"></div></div></div>',ctor:function(){this.observe(["pageNo","q"])},render:function(){var t=this,e=t.param("pageNo")||1,a=50,s=t.param("q");t.request().all([{name:"business_list",params:{pageNo:e,pageSize:a,q:s}}],function(i,l){var n=l.get("data");t.data={list:n.list,q:s,pageNo:e,pageSize:a,totalCount:n.totalCount},t.setView()})},"search<keydown>":function(t){"13"==t.keyCode&&this.to({q:i(t.eventTarget).val(),pageNo:1})},"pageChange<change>":function(t){this.to({pageNo:t.state.page})}})});
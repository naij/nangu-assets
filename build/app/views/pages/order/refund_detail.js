define("app/views/pages/order/refund_detail",["magix","jquery","app/mixins/dialog"],function(a,s,l){var e=a("magix"),t=a("jquery"),n=a("app/mixins/dialog");l.exports=e.View.extend({tmpl:'<div class="page-header clearfix"><div class="title-bar"><h2 class="title">\u9000\u6b3e\u8be6\u60c5</h2></div></div><div class="page-body order-refund-detail"><div class="refund-status">\u9000\u6b3e\u72b6\u6001\uff1a{{{status|formatRefundStatus}}}</div><div class="product-info"><div class="hd">\u9000\u6b3e\u5546\u54c1</div><div class="table-container"><table class="table"><thead><tr><th class="left">\u56fe\u7247</th><th class="left">\u540d\u79f0</th><th class="left">\u5c5e\u6027</th><th class="left">\u4ef7\u683c</th><th class="left">\u6570\u91cf</th><th class="left">\u603b\u8ba1</th></tr></thead><tbody><tr><td class="left"><img src="{{productCover}}"></td><td class="left">{{productTitle}}</td><td class="left">{{productPropertiesName}}</td><td class="left">\uffe5{{productPrice}}</td><td class="left">{{productQuantity}}</td><td class="left">\uffe5{{refundAmount}}</td></tr></tbody></table></div></div><div class="refund-info"><div class="hd">\u9000\u6b3e\u4fe1\u606f</div><div class="bd"><ul><li><span class="label">\u8ba2\u5355\u7f16\u53f7\uff1a</span><span class="value">{{orderSn}}</span></li><li><span class="label">\u7533\u8bf7\u65f6\u95f4\uff1a</span><span class="value">{{createdAt|formatDate}}</span></li><li><span class="label">\u4f1a\u5458\u6635\u79f0\uff1a</span><span class="value">{{memberNickname}}</span></li><li><span class="label">\u9000\u8d27\u539f\u56e0\uff1a</span><span class="value">{{reason}}</span></li><li><span class="label">\u95ee\u9898\u63cf\u8ff0\uff1a</span><span class="value">{{description}}</span></li><li><span class="label">\u9000\u6b3e\u91d1\u989d\uff1a</span><span class="value">\uffe5{{refundAmount}}</span></li></ul></div></div><div class="handle-info" t-if="handleMan"><div class="hd">\u5904\u7406\u4fe1\u606f</div><div class="bd"><ul><li><span class="label">\u5904\u7406\u4eba\u5458\uff1a</span><span class="value">{{handleMan}}</span></li><li><span class="label">\u5904\u7406\u65f6\u95f4\uff1a</span><span class="value">{{handledAt|formatDate}}</span></li><li><span class="label">\u5904\u7406\u5907\u6ce8\uff1a</span><span class="value">{{handleNote}}</span></li></ul></div></div><div class="operate" t-if="status==1"><a href="#" class="btn btn-brand btn-large mr10" t-class:btn-disabled="submit" mx-click="submit()">\u786e\u8ba4\u9000\u6b3e</a><a href="#" class="btn btn-common btn-large" mx-click="refuse()">\u62d2\u7edd\u9000\u6b3e</a></div></div>',mixins:[n],render:function(){var a=this,s=a.param("id");a.request().all([{name:"order_refund_detail",params:{id:s}}],function(s,l){var e=l.get("data");a.data=e,a.setView()})},"submit<click>":function(a){a.preventDefault();var s=this,l=s.param("id"),e=t(a.eventTarget);e.hasClass("btn-disabled")||(s.data.submit=!0,s.setView(),s.request().all([{name:"order_refund",params:{id:l}}],function(){s.render()}))},"refuse<click>":function(a){a.preventDefault();var s=this,l=s.param("id");s.mxDialog("app/views/pages/order/refund_refuse",{width:700,id:l,callback:function(){s.render()}})},filters:{formatRefundStatus:function(a){var s;switch(a){case 0:s='<span class="color-m">\u9000\u6b3e\u62d2\u7edd</span>';break;case 1:s='<span class="color-orange">\u9000\u6b3e\u5f85\u5904\u7406</span>';break;case 2:s='<span class="color-orange">\u9000\u6b3e\u4e2d</span>';break;case 3:s='<span class="color-green">\u9000\u6b3e\u6210\u529f</span>'}return s}}})});